/**
 * @prop --cbp-dropdown-item-color: var(--cbp-dropdown-menu-color);
 * @prop --cbp-dropdown-item-color-bg: transparent;
 * @prop --cbp-dropdown-item-color-border: var(--cbp-color-gray-cool-50);
 * @prop --cbp-dropdown-item-color-dark: var(--cbp-dropdown-menu-color-dark);
 * @prop --cbp-dropdown-item-color-bg-dark: transparent;
 * @prop --cbp-dropdown-item-color-border-dark: var(--cbp-color-gray-cool-50);
 * @prop --cbp-dropdown-item-border-size: var(--cbp-border-size-sm);
 */

:root {
  --cbp-dropdown-item-color: var(--cbp-dropdown-menu-color);
  --cbp-dropdown-item-color-bg: transparent;
  --cbp-dropdown-item-color-border: var(--cbp-color-gray-cool-50);

  --cbp-dropdown-item-color-dark: var(--cbp-dropdown-menu-color-dark);
  --cbp-dropdown-item-color-bg-dark: transparent;
  --cbp-dropdown-item-color-border-dark: var(--cbp-color-gray-cool-50);

  --cbp-dropdown-item-border-size: var(--cbp-border-size-sm);
  /*
  --cbp-dropdown-item-color: var(--cbp-dropdown-color);
  --cbp-dropdown-item-color-bg: var(--cbp-dropdown-color-bg);
  --cbp-dropdown-item-color-border: var(--cbp-color-gray-cool-50);
  
  --cbp-dropdown-item-color-dark: var(--cbp-dropdown-color-dark);
  --cbp-dropdown-item-color-bg-dark: var(--cbp-dropdown-color-bg-dark);
  --cbp-dropdown-item-color-border-dark: var(--cbp-color-gray-cool-50);
  */
}

/* 
 * Dark Mode - display dark design based on mode or context
 */
 [data-cbp-theme=light] cbp-dropdown[context*=dark] cbp-dropdown-item,
 [data-cbp-theme=dark] cbp-dropdown:not([context=dark-inverts]):not([context=light-always]) cbp-dropdown-item {
  --cbp-dropdown-item-color: var(--cbp-dropdown-item-color-dark);
  --cbp-dropdown-item-color-bg: var(--cbp-dropdown-item-color-bg-dark);
  --cbp-dropdown-item-color-border: var(--cbp-dropdown-item-color-border-dark);
 }

cbp-dropdown-item {
  /* TechDebt: can we inherit from here rather than the root selector? Needs more testing.
  --cbp-dropdown-item-color: var(--cbp-dropdown-color);
  --cbp-dropdown-item-color-bg: var(--cbp-dropdown-color-bg);
  --cbp-dropdown-item-color-border: var(--cbp-color-gray-cool-50);
  --cbp-dropdown-item-color-dark: var(--cbp-dropdown-color-dark);
  --cbp-dropdown-item-color-bg-dark: var(--cbp-dropdown-color-bg-dark);
  --cbp-dropdown-item-color-border-dark: var(--cbp-color-gray-cool-50);
*/

  display: block;

  //border-block-end: var(--cbp-border-size-sm) solid var(--cbp-dropdown-item-color-border);
  color: var(--cbp-dropdown-item-color);
  background: var(--cbp-dropdown-item-color-bg);
  line-height: var(--cbp-line-height-xs);
  outline: 0;

  // This nested div is required for applying this weird indent to the bottom border and text, while extending the background color across the full width
  .cbp-dropdown-item-content {
    margin-inline-start: var(--cbp-space-3x);
    padding-inline-start: var(--cbp-space-1x);
    padding-block: var(--cbp-space-2x);
    
    border-block-end: var(--cbp-dropdown-item-border-size) solid var(--cbp-dropdown-item-color-border);
  }

  &:last-of-type {
    border-block-end-width: 0;
  }

  &[selected] {
    font-style: italic;
    --cbp-dropdown-item-color: var(--cbp-color-text-dark);
    --cbp-dropdown-item-color-dark: var(--cbp-color-text-light);
  }

  &:hover {
    --cbp-dropdown-item-color: var(--cbp-color-text-lightest);
    --cbp-dropdown-item-color-bg: var(--cbp-color-interactive-secondary-darker);
    --cbp-dropdown-item-color-border: transparent;
    --cbp-dropdown-item-color-dark: var(--cbp-color-text-darkest);
    --cbp-dropdown-item-color-bg-dark: var(--cbp-color-interactive-secondary-light);
    --cbp-dropdown-item-color-border-dark: transparent;
  }

  &:focus {
    --cbp-dropdown-item-color: var(--cbp-color-text-lightest);
    --cbp-dropdown-item-color-bg: var(--cbp-color-interactive-focus-dark);
    --cbp-dropdown-item-color-border: transparent;
    --cbp-dropdown-item-color-dark: var(--cbp-color-text-darkest);
    --cbp-dropdown-item-color-bg-dark: var(--cbp-color-interactive-focus-light);
    --cbp-dropdown-item-color-border-dark: transparent;
  }
}
