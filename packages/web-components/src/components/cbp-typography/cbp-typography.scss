:root {
  --cbp-typography-color-text: inherit;
  --cbp-typography-color-small-text: var(--cbp-color-text-darkest);
  --cbp-typography-color-large-text: var(--cbp-color-text-darker);
  --cbp-typography-color-divider-fill: var(--cbp-color-gray-cool-10);
  --cbp-typography-color-divider-underline: var(--cbp-color-gray-cool-30);
}

// Displays dark design based on mode or context
// 0,2,1
// 0,3,1
[data-cbp-theme=light] cbp-typography[context*=dark],
[data-cbp-theme=dark] cbp-typography:not([context=dark-inverts]):not([context=light-always]) {
  --cbp-typography-color-small-text: var(--cbp-color-text-lightest);
  --cbp-typography-color-large-text: var(--cbp-color-text-lighter);
  --cbp-typography-color-divider-fill: var(--cbp-color-gray-cool-70);
  --cbp-typography-color-divider-underline: var(--cbp-color-gray-cool-50);
}

/* Inherits body text:
    var(--cbp-color-text-lightest)
    var(--cbp-color-text-darkest)

    h6 is same as body text, all others are lighter/darker
*/
cbp-typography {
  color: inherit;
  color: var(--cbp-typography-color-small-text);
  
  & > * {
    color: var(--cbp-typography-color-small-text);
  }

  &[variant=masthead-1] > *,
  &[variant=masthead-2] > *,
  &[variant=heading-xxl] > *, h1,
  &[variant=heading-xl] > *, h2,
  &[variant=heading-lg] > *, h3,
  &[variant=heading-md] > *, h4,
  &[variant=heading-sm] > *, h5 {
    color: var(--cbp-typography-color-large-text);
  }

  
  &[divider=underline] {
    & > * {
      border-bottom-color: var(--cbp-typography-color-divider-underline);
      border-bottom-style: solid;
      border-bottom-width: var(--cbp-border-size-md);
      padding: var(--cbp-space-3x) 0;
    }

    &[variant=heading-sm] > *, h5 {
      border-bottom-width: var(--cbp-border-size-sm);
    }
    
    &[variant=heading-xs] > *, h6 {
      padding-top: var(--cbp-space-1x);
      padding-bottom: var(--cbp-space-1x);
      padding-right: var(--cbp-space-2x);
    }
  }

  &[divider=fill] {
    & > * {
      background-color: var(--cbp-typography-color-divider-fill);
      border-radius: var(--cbp-border-radius-soft);
      padding: var(--cbp-space-3x);
    }
    &[variant=heading-xs] > * , h6 {
      padding: var(--cbp-space-1x) var(--cbp-space-2x);
    }
  }

  &[divider] {
    &[variant=heading-md] > *, h4 {
      padding-top: var(--cbp-space-2x);
      padding-bottom: var(--cbp-space-2x);
    }
    &[variant=heading-sm] > *, h5 {
      padding-top: var(--cbp-space-1x);
      padding-bottom: var(--cbp-space-1x);
    }
  }


  &[variant=masthead-1] > * {
    font-size: var(--cbp-font-size-masthead-1);
    font-weight: var(--cbp-font-weight-thin);
    line-height: var(--cbp-space-11x);
  }

  &[variant=masthead-2] > * {
    font-size: var(--cbp-font-size-masthead-2);
    font-weight: var(--cbp-font-weight-thin);
    line-height: var(--cbp-space-10x);
  }

  &[variant=heading-xxl] > *, h1 {
    font-size: var(--cbp-font-size-heading-xxl);
    font-weight: var(--cbp-font-weight-light);
    line-height: var(--cbp-space-9x);
  }

  &[variant=heading-xl] > *, h2 {
    font-size: var(--cbp-font-size-heading-xl);
    font-weight: var(--cbp-font-weight-regular);
    line-height: var(--cbp-space-8x);
  }

  &[variant=heading-lg] > *, h3 {
    font-size: var(--cbp-font-size-heading-lg);
    font-weight: var(--cbp-font-weight-regular);
    line-height: var(--cbp-space-7x);
  }

  &[variant=heading-md] > *, h4 {
    font-size: var(--cbp-font-size-heading-md);
    font-weight: var(--cbp-font-weight-medium);
    line-height: var(--cbp-space-6x);
  }

  &[variant=heading-sm] > *, h5 {
    font-size: var(--cbp-font-size-heading-sm);
    font-weight: var(--cbp-font-weight-medium);
    line-height: var(--cbp-space-6x);
  }

  &[variant=heading-xs] > *, h6 {
    color: var(--cbp-typography-color-small-text);
    font-size: var(--cbp-font-size-heading-xs);
    font-weight: var(--cbp-font-weight-bold);
    line-height: var(--cbp-space-5x);
  }

  &[variant=body-text] > *, p {
    font-size: var(--cbp-font-size-body);
    font-weight: var(--cbp-font-weight-regular);
    line-height: var(--cbp-space-5x);
    max-width: var(--cbp-line-length-longer);
  }

  &[variant=subhead] > * {
    font-size: var(--cbp-font-size-subhead);
    font-weight: var(--cbp-font-weight-medium);
    line-height: var(--cbp-space-5x);
  }

  &[variant=heading-dialog] > * {
    display: block;
    font-size: var(--cbp-font-size-heading-lg);
    font-weight: var(--cbp-font-weight-bold);
    line-height: var(--cbp-line-height-md);
    padding: 0;
    padding-bottom: var(--cbp-space-2x);
    margin-bottom: var(--cbp-space-2x);
  }
}
